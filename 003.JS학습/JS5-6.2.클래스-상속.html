<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>JS5-7.JS클래스</title>
    <script>
        /*************************************************************** 
            [ 클래스 상속 ]
            1. 클래스 상속은 extends 키워드 사용            
            2. 클래스 상속으로 생성된 자식클래스는 
            3. 부모클래스의 모든 메서드를 상속한다.
            4. 상속은 코드를 재상용하는 대표적인 방법이다.

            [ super() 메서드 ] 
            -> 부모 클래스를 참조
            -> 부모의 생성자 메서드를 호출
            -> 부모의 속성과 메서드에 접근가능

            [ 겟터와 셋터 ]
            1. 클래스의 특정 속성에 대하여 겟터와 셋터를 설정할 수 있다.
            2. 겟터(Getter) : 값을 리턴함
                get 겟터명(){
                    return this.속성변수
                }
            3. 셋터(Setter) : 값을 셋팅함
                set 셋터명(전달변수){
                    this.속성변수=전달변수
                } 
            4. 값의 호출 : 겟터명을 변수호출함
            5. 값의 셋팅 : 셋터변수에 할당함
            (주의사항)
            -> 겟터명과 셋터명은 동일함
            -> 사용시 변수처럼 사용함
            -> 호출시엔 본래 클래스 맴버 속성을 사용해도 됨
            -> 값셋팅은 셋터로만 가능함
            -> 사용목적은 값셋팅의 안전성을 위함
                (직접 값을 넣지 않기때문에 유효성검사 가능!)
            
          ***************************************************************/

        class MovieInfo {
            // 생성자 메서드 : 주로 속성만 셋팅함!
            constructor(tit, sum, dir, act, des) {
                this.제목 = tit;
                this.개요 = sum;
                this.감독 = dir;
                this.출연 = act;
                this.문구 = des;
            }
            // 내가 만들고자 하는 메서드는 아래에 따로생성
            함수(msg) {
                return `영화 ${this.제목}의 감독님 이름은 ${this.감독}, 나의 응원은 ${msg}`;
            }
        } /////////// class //////////////////////


        /// CGV 극장에서는 기본 정보를 모두 상속받고 CGV만의 기능과 항목을 새로 만든다!
        class CGV extends MovieInfo {
            constructor(tit, sum, dir, act, des, msg, num) {
                super(tit, sum, dir, act, des);
                this.극장안내 = msg;

                // 수용인원 추가
                this.인원 = num;
            }
            show() {
                return this.함수() + ", CGV 안내 : " + this.극장안내;
            }

            // 상영관 평균 수용인원 리턴
            get people() {
                return this.인원;
            }
            // 상영관 평균 수용인원 셋팅
            set people(n) {
                this.인원 = n;
            }
        }


        document.write("<h1>JS5-6.2. JS 클래스 상속</h1>");

        // 클래스로 객체만들기! ////////////
        const cgv = new CGV(
            "조제",
            "멜로/로맨스, 드라마",
            "김종관",
            "한지민, 남주혁",
            "조제 보러 오세요",
            "CGV는 항상 영화팬들과 함께합니다!",
            300
        );

        // 클래스로 만든게 객체인지 확인
        console.log("cgv이 객체인지 확인:", cgv);

        // 만들어진 객체 화면출력 : 객체니까 for in 사용!
        for (let x in cgv) {
            document.write(`<h2>★${x} : ${cgv[x]}</h2>`);
        } //// for in /////

        // 객체 메서드 호출!
        document.write(`<h2> 메시지: ${cgv.함수("굉장허네!")}</h2>`);

        // 기본인원찍기
        document.write(`<h2>CGV의 극장평균 수용인원은 ${cgv.인원}명입니다!(2021년기준)</h2>`);

        // 기본인원 셋팅하기
        cgv.people = 450;
        // 변경된 기본인원 불러오기
        document.write(`<h2>CGV의 극장평균 수용인원은 ${cgv.people}명입니다!(2022년기준)</h2>`);
        // 클래스 맴버 변수인 "인원"을 사용해도 동일한 값을 찍는다!(셋터가 변경하였음!)
        // document.write(`<h2>CGV의 극장평균 수용인원은 ${cgv.인원}명입니다!(2022년기준)</h2>`);

        // 구분선
        document.write("<hr>");

        ////////////////////////////////////////////////////


        /// MegaBox 극장에서는 기본 정보를 모두 상속받고 MegaBox만의 기능과 항목을 새로 만든다!
        class MegaBox extends MovieInfo {
            constructor(tit, sum, dir, act, des, msg, num) {
                super(tit, sum, dir, act, des);
                this.팝콘소식 = msg;

                // 상영관수 추가
                this.상영관수 = num;
            }
            show() {
                return this.함수() + ", 메가박스 팝콘 : " + this.팝콘소식;
            }

            // 상영관수 리턴
            get hallNum() {
                return this.상영관수;
            }
            // 상영관수 셋팅
            set hallNum(n) {
                if(isNaN(n)){
                    console.log("숫자가 아닙니다! 다시 입력하세요!");
                    return;
                }
                this.상영관수 = n;
            }
        }

        // 클래스로 객체만들기! ////////////
        const megabox = new MegaBox(
            "스파이더맨: 노 웨이 홈",
            "액션/어드벤처/SF",
            "존 왓츠",
            "톰 홀랜드, 젠데이아 콜먼",
            "닥스도 나오는 스파이더맨이양~!!!",
            "롤리팝과 먹는 새로운 롤리팝콘 출시!!!",
            50
        );

        // 클래스로 만든게 객체인지 확인
        console.log("megabox이 객체인지 확인:", megabox);

        // 만들어진 객체 화면출력 : 객체니까 for in 사용!
        for (let x in megabox) {
            document.write(`<h2>★${x} : ${megabox[x]}</h2>`);
        } //// for in /////

        // 객체 메서드 호출!
        document.write(`<h2> 메시지: ${megabox.함수("역시 스파이더맨이야!")}</h2>`);

        // 기본인원찍기
        document.write(`<h2>megabox의 총 상영관수는 ${megabox.상영관수}개입니다!(2021년기준)</h2>`);
        // 겟터에서 "상영관수" 맴버 변수를 가져올 수 있음!!!
        // document.write(`<h2>megabox의 총 상영관수는 ${megabox.hallNum}개입니다!(2021년기준)</h2>`);

        // 기본인원 셋팅하기
        megabox.hallNum = 70;
        // 변경된 기본인원 불러오기
        document.write(`<h2>megabox의 총 상영관수는 ${megabox.hallNum}개입니다!(2022년기준)</h2>`);
        // 클래스 맴버 변수인 "상영관수"를 사용해도 동일한 값을 찍는다!(셋터가 변경하였음!)
        // document.write(`<h2>megabox의 총 상영관수는 ${megabox.상영관수}개입니다!(2022년기준)</h2>`);

        // 구분선
        document.write("<hr>");


    </script>
</head>

<body></body>

</html>